stderr of test 'subquery5` in directory 'sql/test/subquery` itself:


# 08:41:39 >  
# 08:41:39 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-11456" "--port=33245"
# 08:41:39 >  

MAPI  = (monetdb) /var/tmp/mtest-11456/.s.monetdb.33245
QUERY = SELECT
            (SELECT MIN(col1) GROUP BY col2)
        FROM another_T; --error, subquery uses ungrouped column "another_T.col2" from outer query
ERROR = !SELECT: subquery uses ungrouped column "another_t.col2" from outer query
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-11456/.s.monetdb.33245
QUERY = SELECT
            (SELECT MIN(col1) WHERE SUM(SUM(col2)) > 1),
            CAST(SUM((SELECT col1 FROM tbl_ProductSales GROUP BY col2)) AS BIGINT)
        FROM another_T GROUP BY col2; --error, aggregate function calls cannot be nested
ERROR = !SELECT: aggregate function calls cannot be nested
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-371889/.s.monetdb.35765
QUERY = CREATE OR REPLACE FUNCTION evilfunction(input INT) RETURNS TABLE (outt INT) BEGIN RETURN SELECT 1,2; END; --error, number of projections don't match
ERROR = !RETURN: number of columns do not match
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-371889/.s.monetdb.35765
QUERY = CREATE OR REPLACE FUNCTION evilfunction(input INT) RETURNS INT BEGIN RETURN TABLE(SELECT input, 2); END; --error, TABLE return not allowed for non table returning functions
ERROR = !RETURN: TABLE return not allowed for non table returning functions
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-371889/.s.monetdb.35765
QUERY = CREATE OR REPLACE FUNCTION evilfunction(input INT) RETURNS INT BEGIN RETURN SELECT input, 2; END; --error, more than 1 return
ERROR = !SELECT: subquery must return only one column
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-232134/.s.monetdb.30965
QUERY = SELECT evilfunction(1);
ERROR = !Cardinality violation, scalar value expected
CODE  = 21000
MAPI  = (monetdb) /var/tmp/mtest-232134/.s.monetdb.30965
QUERY = SELECT evilfunction(1);
ERROR = !Cardinality violation, scalar value expected
CODE  = 21000
MAPI  = (monetdb) /var/tmp/mtest-232134/.s.monetdb.30965
QUERY = SELECT evilfunction(1), 1;
ERROR = !Cardinality violation, scalar value expected
CODE  = 21000
MAPI  = (monetdb) /var/tmp/mtest-488866/.s.monetdb.39586
QUERY = SELECT 1 FROM another_t t1 HAVING 1 = ANY (SELECT col1); --error, subquery uses ungrouped column "col1" from outer query
ERROR = !SELECT: cannot use non GROUP BY column 'col1' in query results without an aggregate function
CODE  = 42000
MAPI  = (monetdb) /var/tmp/mtest-488866/.s.monetdb.39586
QUERY = SELECT 1 FROM another_t t1 HAVING 1 = ANY (SELECT 1 WHERE col1); --error, subquery uses ungrouped column "col1" from outer query
ERROR = !SELECT: cannot use non GROUP BY column 'col1' in query results without an aggregate function
CODE  = 42000

# 08:41:39 >  
# 08:41:39 >  "Done."
# 08:41:39 >  

